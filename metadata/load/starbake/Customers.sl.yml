---
version: 1
table:
  name: "Customers"
  pattern: "customers_extract.*.csv"
  attributes:
  - name: "customer_id"
    type: "int"
    array: false
    required: true
    privacy: "NONE"
    ignore: false
  - name: "first_name"
    type: "string"
    array: false
    required: true
    privacy: "NONE"
    ignore: false
  - name: "last_name"
    type: "string"
    array: false
    required: true
    privacy: "NONE"
    ignore: false
  - name: "email"
    type: "email" # type Validation at load
    array: false
    required: true
    privacy: "NONE"
    ignore: false
  - name: "join_date"
    type: "date"
    array: false
    required: true
    privacy: "NONE"
    ignore: false
  metadata:
    format: "DSV"
    encoding: "UTF-8"
    multiline: false
    array: false
    withHeader: true
    separator: "," # Override global config
    quote: "\""
    escape: "\\"
    writeStrategy:
      type: "OVERWRITE" # Override global config
    sink:
      connectionRef: "{{connectionRef}}" #  use same connection ref
  primaryKey:
  - "customer_id"  # Usefull for transformation
